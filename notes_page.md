# Документация страницы заметок приложения для отслеживания Элайнеров

## Назначение экрана
Страница заметок служит для ведения дневника лечения элайнерами.
Позволяет пользователю записывать наблюдения, проблемы, прогресс и вопросы к врачу, связанные с процессом лечения. 
Обеспечивает систематизацию и анализ личных записей о ходе ортодонтического лечения.

## Основные компоненты экрана

### Заголовок и навигация
- **Заголовок страницы**: название "Заметки" или "Дневник лечения"
- **Кнопка возврата**: переход к предыдущему экрану
- **Кнопка меню**: доступ к дополнительным настройкам

### Система создания заметок
- **Кнопка добавления заметки**: создание новой записи
- **Поле ввода текста**: многострочное поле для ввода текста заметки
- **Выбор категории**: выпадающий список с предустановленными категориями
- **Выбор симптомов**: список симптомов для прикрепления к записи
- **Прикрепление фотографий**: возможность добавления фото к заметке (интеграция с [страницей фотографий](photo_page.md))
- **Кнопки действий**: "Сохранить" и "Отменить" в нижней части экрана
- **Счетчик символов**: отображение количества введенных символов

### Список заметок
- **Заметки по датам**: группировка заметок по дням создания
- **Индикатор категории**: метка, указывающая на категорию заметки
- **Индикатор симптомов**: отображение прикрепленных симптомов к заметке
- **Индикатор фотографий**: отображение наличия прикрепленных фото
- **Время создания**: отображение времени создания заметки
- **Превью текста**: сокращенный текст заметки с возможностью развернуть
- **Кнопки управления**: кнопки редактирования и удаления для каждой заметки

### Поиск и фильтрация
- **Поле поиска**: строка ввода для поиска по тексту заметок
- **Фильтр по категориям**: переключатели для отображения заметок определенных категорий
- **Фильтр по симптомам**: переключатели для отображения заметок с определенными симптомами
- **Фильтр по датам**: выбор диапазона дат для поиска заметок
- **Фильтр по наличию фото**: переключатель для отображения заметок с прикрепленными фотографиями
- **Результаты поиска**: список найденных заметок с указанием дат, категорий и симптомов
- **Очистка фильтров**: кнопка сброса всех примененных фильтров

### Категории заметок
- **Дискомфорт**: записи о болевых ощущениях и неудобствах
- **Прогресс**: наблюдения об улучшениях и изменениях
- **Вопросы к врачу**: вопросы и сомнения для консультации
- **Общие наблюдения**: прочие заметки о ходе лечения
- **Смена элайнера**: записи о переключении между элайнерами
- **Таймауты**: записи о причинах снятия элайнеров и времени вне элайнеров
- **Питание**: заметки о режиме питания и его влиянии на лечение

### Симптомы для прикрепления к заметкам
- **Боль в зубах**: болевые ощущения в зубах
- **Головная боль**: головные боли различной интенсивности
- **Боль в челюсти**: дискомфорт в области челюсти
- **Боль в деснах**: болезненные ощущения в деснах
- **Чувствительность зубов**: повышенная чувствительность к температуре
- **Онемение**: потеря чувствительности в области рта
- **Зуд в деснах**: зудящие ощущения в деснах
- **Кровоточивость десен**: кровотечение из десен
- **Отечность**: припухлость в области рта или лица
- **Сухость во рту**: ощущение сухости в ротовой полости
- **Изменение прикуса**: ощущение изменения положения зубов
- **Трудности с жеванием**: проблемы с пережевыванием пищи
- **Нарушение речи**: изменения в произношении звуков
- **Щелчки в челюсти**: звуки при движении челюсти
- **Скрежет зубов**: непроизвольное скрежетание зубами

### Функциональность прикрепления фотографий
- **Кнопка добавления фото**: возможность прикрепления фотографий к заметке
- **Выбор источника**: выбор между камерой и галереей устройства
- **Предварительный просмотр**: отображение прикрепленных фотографий
- **Редактирование фото**: возможность обрезки и поворота изображений
- **Удаление фото**: возможность удаления прикрепленных фотографий
- **Ограничения**: максимальное количество фотографий на одну заметку
- **Сжатие изображений**: автоматическое сжатие для экономии места

## Пользовательские сценарии

### Основной сценарий - создание заметки
1. Пользователь открывает страницу заметок
2. Нажимает кнопку добавления новой заметки
3. Вводит текст заметки в поле ввода
4. Выбирает подходящую категорию из списка
5. При необходимости выбирает симптомы из списка
6. При необходимости прикрепляет фотографии
7. Сохраняет заметку
8. Видит добавленную заметку в списке с индикаторами симптомов и фото

### Сценарий - поиск и анализ заметок
1. Пользователь использует поле поиска для поиска заметок
2. Вводит ключевые слова для поиска
3. Просматривает найденные заметки
4. При необходимости применяет фильтры по категориям, симптомам или датам
5. Фильтрует заметки с прикрепленными фотографиями
6. Анализирует паттерны в своих записях и симптомах
7. Использует заметки для подготовки к визиту к врачу

### Сценарий - редактирование заметки
1. Пользователь находит нужную заметку в списке
2. Нажимает кнопку редактирования
3. Вносит изменения в текст заметки
4. При необходимости изменяет категорию
5. Добавляет или удаляет симптомы
6. Добавляет или удаляет фотографии
7. Сохраняет изменения
8. Видит обновленную заметку в списке

### Сценарий - подготовка к визиту к врачу
1. Пользователь просматривает заметки за период между визитами
2. Фильтрует заметки по категории "Вопросы к врачу"
3. Анализирует записи о дискомфорте и проблемах
4. Экспортирует или копирует важные заметки
5. Использует информацию для консультации с ортодонтом

### Сценарий - отслеживание прогресса
1. Пользователь просматривает заметки категории "Прогресс"
2. Анализирует изменения в своих наблюдениях
3. Сравнивает записи за разные периоды лечения
4. Отмечает положительные изменения
5. Планирует следующие этапы лечения

### Сценарий - анализ таймаутов через заметки
1. Пользователь просматривает заметки категории "Таймауты"
2. Анализирует причины частых снятий элайнеров
3. Изучает связь между режимом питания и эффективностью лечения
4. Планирует оптимизацию режима для сокращения таймаутов
5. Записывает наблюдения о влиянии питания на лечение

### Сценарий - ведение дневника питания
1. Пользователь создает заметки категории "Питание"
2. Записывает наблюдения о влиянии еды на комфорт ношения элайнеров
3. Отмечает продукты, которые требуют длительного снятия элайнеров
4. Планирует оптимизацию рациона для минимизации таймаутов
5. Анализирует связь между питанием и прогрессом лечения

### Сценарий - документирование симптомов
1. Пользователь испытывает дискомфорт во время ношения элайнеров
2. Создает новую заметку с описанием ощущений
3. Выбирает соответствующие симптомы из списка
4. При необходимости прикрепляет фотографии для визуального подтверждения
5. Сохраняет заметку для последующего анализа
6. Просматривает историю симптомов для выявления паттернов

### Сценарий - фотофиксация изменений
1. Пользователь замечает визуальные изменения в зубах или деснах
2. Создает заметку с описанием наблюдений
3. Прикрепляет фотографии для документирования изменений
4. Сравнивает с предыдущими фотографиями
5. Использует визуальные данные для консультации с врачом

## Состояния экрана

### Состояние "Нет заметок"
- Сообщение о том, что заметки еще не созданы
- Кнопка добавления первой заметки
- Краткое описание назначения заметок

### Состояние создания заметки
- Поле ввода текста заметки
- Выбор категории заметки
- Выбор симптомов из списка
- Прикрепление фотографий
- Кнопки сохранения и отмены
- Предварительный просмотр заметки
- Счетчик символов

### Состояние просмотра заметок
- Список всех заметок с группировкой по датам
- Индикаторы категорий заметок
- Индикаторы прикрепленных симптомов
- Индикаторы прикрепленных фотографий
- Кнопки редактирования и удаления
- Возможность добавления новой заметки

### Состояние редактирования заметки
- Открытие в режиме редактирования с предзаполненным текстом
- Возможность изменения категории
- Редактирование прикрепленных симптомов
- Редактирование прикрепленных фотографий
- Кнопки сохранения изменений и отмены
- Индикатор несохраненных изменений

### Состояние поиска заметок
- Поле ввода поискового запроса
- Результаты поиска с указанием дат
- Фильтры по категориям заметок
- Фильтры по симптомам
- Фильтр по наличию фотографий
- Навигация по найденным результатам

### Состояние прикрепления фотографий
- Выбор источника фотографии (камера или галерея)
- Предварительный просмотр выбранных изображений
- Редактирование фотографий (обрезка, поворот)
- Удаление прикрепленных фотографий
- Ограничения по количеству и размеру файлов

### Состояние просмотра фотографий
- Полноэкранный просмотр прикрепленных фотографий
- Навигация между фотографиями
- Масштабирование изображений
- Возможность удаления фотографий

## Специфичные функции для отслеживания Элайнеров

### Ведение дневника лечения
- **Систематизация наблюдений**: структурированное ведение записей о ходе лечения
- **Категоризация проблем**: группировка записей по типам проблем и вопросов
- **Отслеживание прогресса**: фиксация положительных изменений и улучшений
- **Подготовка к консультациям**: сбор вопросов и наблюдений для врача

### Управление заметками
- **Создание заметок**: добавление текстовых записей с категоризацией
- **Редактирование записей**: возможность изменения существующих заметок
- **Поиск и фильтрация**: поиск заметок по ключевым словам и параметрам
- **Экспорт данных**: возможность выгрузки заметок для консультации с врачом

### Интеграция с лечением
- **Связь с календарем**: привязка заметок к конкретным дням лечения
- **Связь с событиями**: привязка заметок к событиям ношения элайнеров
- **Связь с таймаутами**: автоматическое создание заметок при снятии элайнеров
- **Напоминания**: уведомления о необходимости добавить заметку
- **Анализ трендов**: выявление паттернов в записях пользователя
- **Анализ симптомов**: отслеживание частоты и интенсивности симптомов
- **Визуальный анализ**: сравнение фотографий для оценки прогресса
- **Анализ таймаутов**: выявление связей между питанием и эффективностью лечения

## Интерфейс работы с заметками

### Создание заметки
- **Кнопка "Добавить заметку"**: расположена в верхней части экрана
- **Поле ввода текста**: многострочное поле для ввода текста заметки
- **Выбор категории**: выпадающий список с предустановленными категориями
- **Выбор симптомов**: список симптомов для прикрепления к записи
- **Прикрепление фотографий**: кнопка для добавления фото к заметке
- **Кнопки действий**: "Сохранить" и "Отменить" в нижней части экрана
- **Счетчик символов**: отображение количества введенных символов

### Просмотр заметок
- **Список заметок**: вертикальный список всех заметок с группировкой по датам
- **Индикатор категории**: метка, указывающая на категорию заметки
- **Индикатор симптомов**: отображение прикрепленных симптомов к заметке
- **Индикатор фотографий**: отображение наличия прикрепленных фото
- **Время создания**: отображение времени создания заметки
- **Кнопки управления**: кнопки редактирования и удаления для каждой заметки
- **Превью текста**: сокращенный текст заметки с возможностью развернуть

### Редактирование заметки
- **Открытие в режиме редактирования**: переход к полю ввода с предзаполненным текстом
- **Редактирование симптомов**: добавление или удаление симптомов
- **Редактирование фотографий**: добавление, удаление или редактирование фото
- **Сохранение изменений**: кнопка подтверждения изменений
- **Отмена редактирования**: возврат к исходному тексту без сохранения
- **Индикатор изменений**: визуальное указание на наличие несохраненных изменений

### Поиск и фильтрация заметок
- **Поле поиска**: строка ввода для поиска по тексту заметок
- **Фильтр по категориям**: переключатели для отображения заметок определенных категорий
- **Фильтр по симптомам**: переключатели для отображения заметок с определенными симптомами
- **Фильтр по датам**: выбор диапазона дат для поиска заметок
- **Фильтр по наличию фото**: переключатель для отображения заметок с прикрепленными фотографиями
- **Результаты поиска**: список найденных заметок с указанием дат, категорий и симптомов
- **Очистка фильтров**: кнопка сброса всех примененных фильтров

### Экспорт и обмен данными
- **Экспорт заметок**: функция выгрузки заметок в текстовом формате
- **Экспорт с фотографиями**: выгрузка заметок вместе с прикрепленными фотографиями
- **Поделиться заметками**: возможность отправки заметок врачу
- **Поделиться фотографиями**: отправка фотографий для консультации
- **Печать заметок**: функция печати выбранных заметок
- **Резервное копирование**: автоматическое сохранение заметок и фотографий в облаке
