# Документация страницы Статистики приложения для отслеживания Элайнеров

## Назначение экрана
Страница статистики предоставляет пользователю детальный анализ прогресса ортодонтического лечения с визуализацией данных о ношении элайнеров. Позволяет отслеживать эффективность лечения, анализировать соблюдение режима ношения и мотивировать пользователя к достижению целей лечения.

## Основные компоненты экрана

### Заголовок и навигация
- **Заголовок раздела**: название "Статистика" в верхней части экрана
- **Кнопка меню**: кнопка для доступа к настройкам
- **Кнопка экспорта**: кнопка для отправки статистики врачу или сохранения отчета

### Селектор периода анализа
- **Переключатель периодов**: табы для выбора временного диапазона (день, неделя, месяц, весь период лечения)
- **Активный период**: визуальное выделение выбранного периода
- **Быстрые фильтры**: кнопки для популярных периодов (последняя неделя, месяц)

### Общая сводка прогресса
- **Общий прогресс лечения**: процент завершения всего курса лечения
- **Текущий элайнер**: номер и информация о текущем элайнере в серии
- **До следующей смены**: обратный отсчет дней до смены элайнера
- **Среднее время ношения**: среднее время ношения за выбранный период
- **Процент соблюдения режима**: доля дней, когда была достигнута дневная цель

### Графики и визуализация
- **График времени ношения**: столбчатая диаграмма с отображением времени ношения по дням
- **График таймаутов**: диаграмма времени снятия элайнеров по дням
- **Целевая линия**: горизонтальная линия на уровне дневной цели (например, 22 часа)
- **Тренд соблюдения**: линейный график показывающий улучшение/ухудшение соблюдения режима
- **Тренд таймаутов**: график изменения частоты и продолжительности таймаутов
- **Календарная тепловая карта**: визуализация активности по дням месяца
- **Круговая диаграмма прогресса**: процент завершения текущего этапа лечения
- **Диаграмма причин снятия**: круговая диаграмма распределения причин таймаутов

### Детальная статистика по элайнерам
- **Список элайнеров**: все элайнеры в серии с указанием времени ношения для каждого
- **Среднее время ношения по элайнерам**: сравнение эффективности разных элайнеров
- **Дни ношения**: количество дней ношения для каждого элайнера
- **Процент соблюдения**: доля времени, когда элайнер носился согласно рекомендациям

### Статистика соблюдения режима
- **Дневные цели**: статистика достижения дневных целей ношения
- **Недельные цели**: анализ соблюдения недельных планов лечения
- **Стрики**: счетчики последовательных дней соблюдения режима
- **Лучшие периоды**: топ недель/месяцев с лучшими показателями
- **Проблемные периоды**: дни/недели с низким соблюдением режима

### Статистика таймаутов
- **Общее время таймаутов**: суммарное время снятия элайнеров за период
- **Средняя продолжительность таймаута**: среднее время одного таймаута для еды
- **Частота таймаутов**: количество таймаутов в день/неделю
- **Эффективность таймаутов**: соотношение времени таймаутов к общему времени лечения
- **Причины снятия**: статистика по причинам снятия элайнеров (еда, чистка, дискомфорт)

### Анализ эффективности лечения
- **Скорость прогресса**: насколько быстро продвигается лечение
- **Сравнение с планом**: отклонения от изначального плана лечения
- **Прогноз завершения**: предсказание времени завершения на основе текущих данных
- **Рекомендации**: советы по улучшению соблюдения режима

### Достижения и мотивация
- **Система достижений**: бейджи за различные достижения (неделя без пропусков, 100% соблюдение режима)
- **Мотивационные сообщения**: поощрения за хорошие результаты
- **Прогресс к целям**: визуализация приближения к долгосрочным целям
- **История достижений**: хронология важных моментов лечения

## Пользовательские сценарии

### Основной сценарий - просмотр общей статистики
1. Пользователь открывает раздел "Статистика"
2. Видит общую сводку прогресса лечения
3. Изучает графики времени ношения за выбранный период
4. Анализирует достижения и мотивационные элементы
5. Может изменить период анализа через селектор

### Сценарий - анализ эффективности лечения
1. Пользователь хочет понять, насколько эффективно идет лечение
2. Просматривает график трендов соблюдения режима
3. Анализирует статистику по элайнерам
4. Изучает статистику таймаутов и их влияние на эффективность
5. Сравнивает текущие показатели с планом лечения
6. Получает рекомендации по улучшению

### Сценарий - анализ таймаутов
1. Пользователь хочет оптимизировать время снятия элайнеров
2. Просматривает график таймаутов за выбранный период
3. Анализирует среднюю продолжительность и частоту таймаутов
4. Изучает диаграмму причин снятия элайнеров
5. Выявляет паттерны в использовании таймаутов
6. Планирует оптимизацию режима для сокращения времени вне элайнеров

### Сценарий - просмотр детальной статистики по элайнерам
1. Пользователь хочет посмотреть статистику для конкретных элайнеров
2. Просматривает список всех элайнеров с временем ношения
3. Анализирует эффективность каждого элайнера
4. Выявляет проблемные элайнеры или периоды
5. Планирует корректировки в режиме ношения

### Сценарий - экспорт статистики для врача
1. Пользователь готовится к визиту к ортодонту
2. Нажимает кнопку экспорта статистики
3. Выбирает период для отчета
4. Генерирует отчет с ключевыми метриками
5. Отправляет отчет врачу или сохраняет для визита

### Сценарий - мотивация через достижения
1. Пользователь открывает раздел достижений
2. Видит заработанные бейджи и награды
3. Изучает прогресс к следующим целям
4. Получает мотивационные сообщения
5. Ставит новые цели для улучшения показателей

## Состояния экрана

### Состояние "Лечение не начато"
- Сообщение о необходимости начала лечения
- Пустые графики с инструкциями по началу использования
- Мотивационные сообщения для начала активного использования
- Советы по правильному использованию приложения

### Состояние "Недостаточно данных"
- Частично заполненные графики с доступными данными
- Сообщения о необходимости накопления данных для полной статистики
- Базовые метрики с доступными данными
- Мотивация для продолжения использования

### Состояние с полными данными
- Полный набор графиков и диаграмм с реальными данными
- Детальная статистика по всем метрикам
- Система достижений с заработанными наградами
- Сравнительная аналитика и прогнозы

### Состояние загрузки данных
- Индикатор загрузки при обновлении статистики
- Скелетон-экраны для графиков
- Сохранение предыдущих данных
- Плавная анимация появления новых данных

### Состояние ошибки синхронизации
- Сообщение об ошибке загрузки данных
- Кнопка "Повторить" для повторной попытки
- Отображение локально сохраненных данных
- Индикатор проблем с подключением

## Дополнительные функции

### Аналитические инструменты
- **Корреляционный анализ**: выявление связей между соблюдением режима и эффективностью лечения
- **Прогнозирование**: предсказание времени завершения лечения на основе текущих данных
- **Выявление паттернов**: анализ дней недели, времени суток с лучшими показателями
- **Аномалии**: выявление необычных паттернов в данных ношения

### Персонализация
- **Настройка целей**: установка индивидуальных целей ношения
- **Персональные метрики**: отслеживание специфических показателей
- **Кастомные дашборды**: настройка отображения нужных метрик
- **Уведомления о достижениях**: настройка оповещений о прогрессе

### Интеграция с лечением
- **Синхронизация с врачом**: автоматическая отправка статистики ортодонту
- **Рекомендации врача**: интеграция советов от ортодонта
- **Планирование визитов**: напоминания о необходимости консультации
- **Отчеты для врача**: автоматическая генерация отчетов для визитов

### Визуализация данных
- **Интерактивные графики**: возможность детального изучения данных
- **Анимации**: плавные переходы между периодами
- **Адаптивные диаграммы**: автоматическая подстройка под размер экрана
- **Экспорт в высоком качестве**: сохранение графиков для презентаций

### Мотивационные элементы
- **Геймификация**: система очков и уровней за соблюдение режима
- **Челленджи**: еженедельные и месячные вызовы
- **Награды**: виртуальные награды за достижения
- **Прогресс-бары**: визуализация приближения к целям лечения