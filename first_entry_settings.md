# Техническое задание: First Entry - Settings

## Общее описание
После завершения онбординга пользователь проходит процесс первичной настройки приложения для отслеживания элайнеров. 
Это многошаговый процесс, состоящий из 9 экранов, где пользователь вносит основные параметры своего лечения, а затем система создает индивидуальный план лечения.

---

## Экран 1: Приветствие и начало настройки

### 1. Назначение экрана
Приветственный экран, который открывает процесс первичной настройки приложения после онбординга. 
Информирует пользователя о предстоящих шагах настройки лечения.

### 2. Основные компоненты экрана
- **Заголовок приветствия**: Текст "Добро пожаловать!" в верхней части экрана
- **Описание процесса**: Текст "Давайте пройдем несколько шагов для настройки вашего лечения" в центральной части
- **Кнопка "Далее"**: В правой части нижней области экрана

### 3. Пользовательские сценарии
**Основной сценарий:**
1. Пользователь видит приветствие и описание процесса
2. Нажимает кнопку "Далее" для перехода к следующему шагу

**Альтернативный сценарий:**
1. Пользователь может вернуться к предыдущему экрану (если доступно)

### 4. Состояния экрана
- **Обычное состояние**: Отображение всех элементов интерфейса
- **Состояние загрузки**: При нажатии "Далее" (если требуется обработка)

---

## Экран 2: Общее количество элайнеров

### 1. Назначение экрана
Пользователь вводит общее количество элайнеров в своем курсе лечения.

### 2. Основные компоненты экрана
- **Заголовок**: Текст "Общее количество элайнеров" в центральной части экрана
- **Поле ввода**: Поле с числом "30" в центральной части экрана
- **Кнопка "Отмена"**: В левой части нижней области
- **Кнопка "Далее"**: В правой части нижней области

### 3. Пользовательские сценарии
**Основной сценарий:**
1. Пользователь видит предустановленное значение "14"
2. Нажимает на поле ввода для редактирования
3. Вводит корректное количество элайнеров
4. Нажимает "Далее" для продолжения

**Альтернативные сценарии:**
1. Пользователь оставляет значение по умолчанию
2. Пользователь нажимает "Отмена" для возврата к предыдущему экрану

### 4. Состояния экрана
- **Обычное состояние**: Отображение поля ввода с числом
- **Состояние редактирования**: Активное поле ввода с клавиатурой
- **Состояние ошибки**: При вводе некорректного значения (отрицательное число, ноль)

### 5. Дополнительные компоненты
- **Клавиатура**: Стандартная цифровая клавиатура для ввода чисел

---

## Экран 3: Количество дней ношения элайнера

### 1. Назначение экрана
Пользователь указывает, сколько дней нужно носить каждый элайнер.

### 2. Основные компоненты экрана
- **Заголовок**: Текст "Количество дней ношения каждого элайнера" в центральной части
- **Поле ввода**: Поле с числом "14" в центральной части
- **Кнопка "Отмена"**: В левой части нижней области
- **Кнопка "Далее"**: В правой части нижней области

### 3. Пользовательские сценарии
**Основной сценарий:**
1. Пользователь видит предустановленное значение "14"
2. Нажимает на поле для редактирования
3. Вводит количество дней (обычно 7, 14, 21)
4. Нажимает "Далее"

**Альтернативные сценарии:**
1. Пользователь оставляет стандартное значение 14 дней
2. Пользователь вводит нестандартное количество дней

### 4. Состояния экрана
- **Обычное состояние**: Отображение поля с числом
- **Состояние редактирования**: Активное поле ввода
- **Состояние ошибки**: При вводе некорректного значения

### 5. Дополнительные компоненты
- **Клавиатура**: Стандартная цифровая клавиатура для ввода чисел

---

## Экран 4: Тип элайнера

### 1. Назначение экрана
Пользователь выбирает тип прозрачного элайнера, который используется в его лечении.

### 2. Основные компоненты экрана
- **Заголовок**: Текст "Тип прозрачного элайнера для вашего лечения" в центральной части
- **Поле выбора**: Поле с текстом "3M Clarity" в центральной части
- **Кнопка "Отмена"**: В левой части нижней области
- **Кнопка "Далее"**: В правой части нижней области

### 3. Пользовательские сценарии
**Основной сценарий:**
1. Пользователь видит предустановленный тип "3M Clarity"
2. Нажимает на поле для выбора другого типа
3. Выбирает нужный тип элайнера из списка
4. Нажимает "Далее"

**Альтернативные сценарии:**
1. Пользователь оставляет предустановленный тип
2. Пользователь выбирает "Другой" и вводит свой тип

### 4. Состояния экрана
- **Обычное состояние**: Отображение выбранного типа
- **Состояние выбора**: Открытый список доступных типов элайнеров
- **Состояние ввода**: Поле для ввода пользовательского типа

### 5. Дополнительные компоненты
- **Bottom Sheet с выбором типа**: Панель с предустановленными типами элайнеров:
  - 3M Clarity
  - Invisalign
  - ClearCorrect
  - Other

---

## Экран 5: Номер текущего элайнера

### 1. Назначение экрана
Пользователь указывает номер элайнера, который он носит в данный момент.

### 2. Основные компоненты экрана
- **Заголовок**: Текст "Номер вашего текущего элайнера" в центральной части
- **Поле ввода**: Поле с числом "1" в центральной части
- **Кнопка "Отмена"**: В левой части нижней области
- **Кнопка "Далее"**: В правой части нижней области

### 3. Пользовательские сценарии
**Основной сценарий:**
1. Пользователь видит предустановленное значение "1"
2. Нажимает на поле для редактирования
3. Вводит номер своего текущего элайнера
4. Нажимает "Далее"

**Альтернативные сценарии:**
1. Пользователь только начинает лечение (номер 1)
2. Пользователь уже на середине курса (любой номер от 1 до общего количества)

### 4. Состояния экрана
- **Обычное состояние**: Отображение поля с номером
- **Состояние редактирования**: Активное поле ввода
- **Состояние ошибки**: При вводе номера больше общего количества элайнеров

### 5. Дополнительные компоненты
- **Клавиатура**: Стандартная цифровая клавиатура для ввода чисел

---

## Экран 6: Количество дней ношения текущего элайнера

### 1. Назначение экрана
Пользователь указывает, сколько дней он уже носит свой текущий элайнер.

### 2. Основные компоненты экрана
- **Заголовок**: Текст "Количество дней, которые вы носите текущий элайнер" в центральной части
- **Поле ввода**: Поле с числом "0" в центральной части
- **Кнопка "Отмена"**: В левой части нижней области
- **Кнопка "Далее"**: В правой части нижней области

### 3. Пользовательские сценарии
**Основной сценарий:**
1. Пользователь видит предустановленное значение "0"
2. Нажимает на поле для редактирования
3. Вводит количество дней ношения текущего элайнера
4. Нажимает "Далее"

**Альтернативные сценарии:**
1. Пользователь только начал носить элайнер (0 дней)
2. Пользователь носит элайнер уже несколько дней
3. Пользователь носит элайнер дольше рекомендованного срока

### 4. Состояния экрана
- **Обычное состояние**: Отображение поля с числом
- **Состояние редактирования**: Активное поле ввода
- **Состояние предупреждения**: При вводе количества дней больше рекомендованного

### 5. Дополнительные компоненты
- **Клавиатура**: Стандартная цифровая клавиатура для ввода чисел

---

## Экран 7: Настройка напоминания

### 1. Назначение экрана
Пользователь устанавливает время напоминания о смене элайнеров.

### 2. Основные компоненты экрана
- **Заголовок**: Текст "Напомнить мне сменить элайнеры в" в центральной части
- **Поле времени**: Поле с временем "19:00" в центральной части
- **Кнопка "Отмена"**: В левой части нижней области
- **Кнопка "Готово"**: В правой части нижней области

### 3. Пользовательские сценарии
**Основной сценарий:**
1. Пользователь видит предустановленное время "19:00"
2. Нажимает на поле времени для изменения
3. Выбирает удобное время для напоминания
4. Нажимает "Готово" для завершения настройки

**Альтернативные сценарии:**
1. Пользователь оставляет время по умолчанию
2. Пользователь выбирает утреннее время
3. Пользователь отключает напоминания

### 4. Состояния экрана
- **Обычное состояние**: Отображение времени напоминания
- **Состояние выбора времени**: Открытый селектор времени
- **Состояние отключения**: Возможность отключить напоминания

### 5. Дополнительные компоненты
- **Bottom Sheet с выбором времени**: Панель с селектором времени (часы и минуты)

---

## Экран 8: Настройка резервного копирования

### 1. Назначение экрана
Пользователь решает, включать ли автоматическое резервное копирование данных.

### 2. Основные компоненты экрана
- **Заголовок**: Текст "Хотите ли вы включить автоматическое резервное копирование данных?" в центральной части
- **Опция отложить**: Поле с текстом "Возможно позже" в центральной части
- **Индикатор прогресса**: Ряд из 8 точек, где 7-я точка активна
- **Кнопка "Далее"**: В правой части нижней области

### 3. Пользовательские сценарии
**Основной сценарий:**
1. Пользователь видит вопрос о резервном копировании
2. Нажимает на "Возможно позже" для отложения решения
3. Нажимает "Далее" для завершения настройки

**Альтернативные сценарии:**
1. Пользователь выбирает "Возможно позже" и продолжает
2. Пользователь может выбрать "Да" для включения резервного копирования

### 4. Состояния экрана
- **Обычное состояние**: Отображение вопроса и опции
- **Состояние выбора**: Дополнительные опции для настройки резервного копирования

### 5. Дополнительные компоненты
- **Bottom Sheet с выбором опций**: Панель с вариантами:
  - Да, включить резервное копирование
  - Возможно позже
  - Отключить резервное копирование

---

## Экран 9: Создание плана лечения

### 1. Назначение экрана
Экран отображается после завершения всех настроек и показывает процесс создания индивидуального плана лечения на основе введенных пользователем данных.

### 2. Основные компоненты экрана
- **Заголовок**: Текст "Создание вашего плана лечения" в верхней части экрана
- **Описание процесса**: Текст "Подождите, мы создаем уникальный план лечения на основе ваших данных" в центральной части
- **Индикатор прогресса**: Анимированный прогресс-бар или спиннер в центральной части
- **Дополнительный текст**: "Это может занять несколько секунд..." в нижней части экрана

### 3. Пользовательские сценарии
**Основной сценарий:**
1. Пользователь завершает настройки на экране 8
2. Автоматически переходит на экран создания плана
3. Видит процесс создания плана с анимацией
4. После завершения автоматически переходит к главному экрану приложения

**Альтернативные сценарии:**
1. Если процесс занимает слишком много времени, показывается дополнительное сообщение
2. При ошибке создания плана отображается сообщение об ошибке с возможностью повторить

### 4. Состояния экрана
- **Состояние загрузки**: Отображение анимированного индикатора прогресса
- **Состояние обработки**: Смена текстов с описанием этапов создания плана
- **Состояние завершения**: Переход к следующему экрану
- **Состояние ошибки**: Отображение сообщения об ошибке с кнопкой повтора

### 5. Дополнительные компоненты
- **Анимированный индикатор**: Прогресс-бар или спиннер для визуализации процесса
- **Динамические тексты**: Смена сообщений во время создания плана:
  - "Анализируем ваши данные..."
  - "Рассчитываем график смены элайнеров..."
  - "Создаем персональные напоминания..."
  - "План готов!"

---

## Общие принципы навигации

### Логика перехода между экранами
1. **Последовательный переход**: Пользователь проходит экраны в строгом порядке
2. **Кнопка "Далее"**: Переход к следующему экрану после корректного ввода данных
3. **Кнопка "Отмена"**: Возврат к предыдущему экрану (кроме первого экрана)
4. **Кнопка "Готово"**: Завершение процесса настройки на экране 8
5. **Автоматический переход**: Переход на экран создания плана лечения (экран 9)
6. **Автоматическое завершение**: Переход к главному экрану приложения после создания плана

### Валидация данных
- Все числовые поля проверяются на корректность ввода
- Номер текущего элайнера не может превышать общее количество элайнеров
- Количество дней ношения не может быть отрицательным
- Время напоминания должно быть в допустимом формате

### Обработка ошибок
- Отображение сообщений об ошибках при некорректном вводе
- Возможность исправления введенных данных
- Предотвращение перехода к следующему экрану при наличии ошибок

## Дополнительные компоненты интерфейса

### Bottom Sheets (Нижние панели)
Bottom Sheets используются для предоставления пользователю дополнительных опций выбора без перехода на новый экран:

1. **Экран 4 (Тип элайнера)**: Панель с выбором типа элайнера из предустановленного списка
2. **Экран 7 (Напоминание)**: Панель с выбором времени
3. **Экран 8 (Резервное копирование)**: Панель с вариантами настройки резервного копирования

### Клавиатуры
- **Цифровая клавиатура**: Для всех полей ввода чисел (экраны 2, 3, 5, 6)
- **Стандартная клавиатура**: Для ввода пользовательского типа элайнера (экран 4)

### Селекторы времени
- **Встроенный селектор времени**: Для точного выбора времени напоминания (экран 7)
